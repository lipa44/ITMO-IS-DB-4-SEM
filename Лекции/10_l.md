# Лекция 10

# Введение

## Предпосылки к распределённым БД

1. Почти все ИС имеют 3-х звенную архитетуру -> база данных является слабым местом, когда мы пытаемся оптимизировать работу пролодения

2. Жёсткие диски накладывают ограничение на скорость рабооты (не можем сделать большой объём быстродоступной памяти)

3. Естественная распределённость

# Распределённые БД

Распределённая БД - это набор логически связанных между собой разделяемых данных и их описаний, которые физически распределены по нескоьким вычислительным узлам.

> Понятно, что нужно разделять таблицы

Фрагментирование - это разделение отношения, а получившиеся компоненты называются фрагментами.

## Фрагментироваие

1. Горизонтальное (шардирование) - выделение подмножеств строк

2. Вертикальное - пытаемся хранить таблицу не как кортежи со всеми атрибутаит, а отдельно столбцы (храним на разнызх узлах данные разной секретности)

3. Смешанное - очев (когда есть фрагмент таблицы, который часто используется)

Репликация - поддержка синхронизированных физических копий некоторго объекта БД

## Стратегии размещения данных в распределённой системе

### 1. Фрагментированное (раздельное) размещение

БД разбиваетсяна непересекующиеся фрагменты, и каждый из фрагментов располагается строго на одном узле

### 2. Размещение с полной репликацией

На каждом узле есть полная реплика всей БД (олимпа ИТМО по рпоге)

### 3. Размещение с выборочной репликацией

Разделяем БД тем или иным способом, и для каждого фрагмента решаем 2 задачи:

1. Сколько копий фрагмента сделать
2. Где их прасположить

> СУБД должна принимать данные решения

## Принципы прозрачности СУБД

### 1. Прозрачность фрагментации

Пользователь не знает ,как фрагментирован тот или иной объект

### 2. Прозрачность расположения фрагмента

Пользователь не знает ,на каком конкретном узле расположен тот фрагмент, к которому он обращается

### 3. Прозрачность количества реплик

Пользователь не может обратиться к конкретнной реплике

### 4. Прозрачность контроля доступа

Пользователь не знает, данных действительно нет или у него нет на них доступа

## Типы распределённых БД

### 1. Гомогенные - одинаковая СУБД на всех узлах

### 2. Гетерогенные - разные СУБД на узлах

## Правила БД (по Дейту)

1. **Локальная автономность** - локальные данные принедлежат локальным владельцам и локально сопровождаются (на каждом узле есть свой управленец БД и только он имеет к ним доступ управления)

2. **Отсутствие опоры на центральный узел** - в системе не должно быть ни одного узла, без которого система не может функционировать

3. **Непрерывное функционирование** - в системе не должна возникать потребность в плановом останове её функционирования

4. **Независимость от расположения** - любой пользователь может получить доступ к данным, хранящимся на любом узле

5. **Независимость от фрагментации** - любой пользователь может получить доступ к данным, вне зависимости от их фрагментации

6. **Независимость от репликации** - любой пользователь может получить доступ к данным, вне зависимости от наличия реплик

7. **Обработка распределённых запросов** - любой пользователь должен иметь возможность обработать любой запрос вне зависимости от количества узлов, на которых расположены запрашиваемые объекты данных

8. **Обработка распределённых транзакций** - система должна поддерживать выполнение транзакций с данными, расположенными более чем на одном узле

9. **Независимость от типа оборудования** - очев, не встаёт

10. **Независимость от сетевой архитектуры** - очев

11. **Независимость от операционной системы** - очев

12. **Независимость от типа СУБД** - очев

## Вопросы к распределённым БД

1. К какому фрагменту обратитьтся
2. К какой копии обращаться
3. Где расположить временные структуры

## Преимущества распределённых БД

1. Может нативно отображать структуру организации

2. Отказоустойчивость?

3. Повышение доступности и надёжности

4. Модульность системы

## Недостатки распределённых БД

1. Повышение сложности

2. Увеличение стоимости владения

3. Проблема защиты

4. Усложнение контроля за целостностью данных

5. Отсутствие стандартов
